Revising the original part.
Main classes in lib folder.